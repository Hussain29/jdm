---
const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1);
---

<nav
  class="px-6 md:px-20 lg:px-32 pt-2 flex bg-white md:flex-row items-center md:items-center justify-between sticky top-0"
>
  <img src="/logo.jpg" alt="Logo" class="w-16 md:w-20 h-auto object-contain" />
  <!-- Mobile Nav -->
  <div class="md:hidden flex flex-col justify-center items-end">
    <button class="outline-none mobile-menu-button">
      <svg
        class="w-6 h-6 text-gray-500"
        x-show="!showMenu"
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
    <div
      class="hidden absolute top-full right-0 w-full pr-4 bg-white mobile-menu"
    >
      <ul class="flex flex-col items-end gap-y-4 w-full bg-white">
        <li>
          <a
            class={`${
              currentPath === "" ? "text-red-500 font-bold" : "font-medium"
            }  uppercase`}
            href="/">Home</a
          >
        </li>
        <li>
          <a
            class={`${
              currentPath === "about" ? "text-red-500 font-bold" : "font-medium"
            }  uppercase`}
            href="/about">About</a
          >
        </li>
        <li>
          <a
            class={`${
              currentPath === "programs"
                ? "text-red-500 font-bold"
                : "font-medium"
            }  uppercase`}
            href="/contact">Programs</a
          >
        </li>
        <li>
          <a
            class={`${
              currentPath === "gallery"
                ? "text-red-500 font-bold"
                : "font-medium"
            }  uppercase`}
            href="/gallery">Gallery</a
          >
        </li>
        <li>
          <a
            class={`${
              currentPath === "events"
                ? "text-red-500 font-bold"
                : "font-medium"
            }  uppercase`}
            href="/contact">Events</a
          >
        </li>
        <li class="my-2">
          <a
            class={`${
              currentPath === "contact"
                ? "text-red-500 font-bold"
                : "px-5 py-2 rounded-full bg-red-500 text-white font-medium"
            }  uppercase`}
            href="/contact">Contact Us</a
          >
        </li>
      </ul>
    </div>
  </div>
  <!-- Desktop Nav -->
  <ul class="hidden md:flex md:flex-row items-center gap-x-8">
    <li>
      <a
        class={`${
          currentPath === "" ? "text-red-500 font-bold" : "font-medium"
        }  uppercase`}
        href="/">Home</a
      >
    </li>
    <li>
      <a
        class={`${
          currentPath === "about" ? "text-red-500 font-bold" : "font-medium"
        }  uppercase`}
        href="/about">About</a
      >
    </li>
    <li>
      <a
        class={`${
          currentPath === "programs" ? "text-red-500 font-bold" : "font-medium"
        }  uppercase`}
        href="/contact">Programs</a
      >
    </li>
    <li>
      <a
        class={`${
          currentPath === "gallery" ? "text-red-500 font-bold" : "font-medium"
        }  uppercase`}
        href="/gallery">Gallery</a
      >
    </li>
    <li>
      <a
        class={`${
          currentPath === "events" ? "text-red-500 font-bold" : "font-medium"
        }  uppercase`}
        href="/contact">Events</a
      >
    </li>
    <li>
      <a
        class={`${
          currentPath === "contact"
            ? "text-red-500 font-bold"
            : "px-5 py-2 rounded-full bg-red-500 text-white font-medium"
        }  uppercase`}
        href="/contact">Contact Us</a
      >
    </li>
  </ul>
</nav>

<script>
  const btn = document.querySelector("button.mobile-menu-button");
  const menu = document.querySelector(".mobile-menu");
  btn.addEventListener("click", () => {
    menu.classList.toggle("hidden");
  });
</script>
